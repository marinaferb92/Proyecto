from django.contrib import admin
from .models import Patient, Doctor, Appointment, StockItem


@admin.register(Patient)
class PatientAdmin(admin.ModelAdmin):
    list_display = ("first_name", "last_name", "dni", "phone", "email", "created_at")
    search_fields = ("first_name", "last_name", "dni", "phone", "email")
    list_filter = ("created_at",)


@admin.register(Doctor)
class DoctorAdmin(admin.ModelAdmin):
    list_display = ("user", "specialty")
    search_fields = ("user__username", "user__first_name", "user__last_name", "specialty")


@admin.register(Appointment)
class AppointmentAdmin(admin.ModelAdmin):
    list_display = ("date", "time", "patient", "doctor", "status")
    list_filter = ("status", "date", "doctor")
    search_fields = ("patient__first_name", "patient__last_name", "doctor__user__username")
    autocomplete_fields = ("patient", "doctor")


@admin.register(StockItem)
class StockItemAdmin(admin.ModelAdmin):
    list_display = ("name", "sku", "quantity", "min_quantity", "is_below_min", "last_updated")
    list_filter = ("last_updated",)
    search_fields = ("name", "sku")
