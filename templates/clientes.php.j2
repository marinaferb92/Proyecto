<?php
require_once 'config.php';
require_once 'auth.php';

require_login();
require_role(['admin','recepcionista']);

$pageTitle = "Clientes";
include 'header.php';
?>

<!-- TÍTULO + BOTÓN -->
<div class="d-flex justify-content-between align-items-center mb-4">
  <h3 class="m-0"><i class="bi bi-people me-2"></i>Clientes</h3>

  <a href="cliente_editar.php" class="btn btn-primary">
      <i class="bi bi-plus-circle"></i> Nuevo cliente
  </a>
</div>

<!-- TARJETA BUSCADOR -->
<div class="card shadow-sm mb-4">
  <div class="card-body">
    <label class="form-label fw-bold">Buscar cliente</label>

    <div class="position-relative">
      <input 
        type="text" 
        id="buscador-clientes" 
        class="form-control form-control-lg cliente-autocomplete"
        placeholder="Buscar por nombre, apellido, DNI o teléfono..."
        autocomplete="off"
      >

      <!-- Caja de resultados -->
      <div id="cliente-resultados" class="autocomplete-results"></div>
    </div>
  </div>
</div>

<!-- Resultados dinámicos -->
<div id="cliente-lista"></div>

<?php include 'footer.php'; ?>
